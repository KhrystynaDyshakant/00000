{% extends 'base.html' %}

{% block title %}–ó–∞—è–≤–∫–∞ #{{ request.id }}{% endblock %}

{% block content %}
<div class="row justify-content-center">
    <div class="col-md-8">
        <div class="card">
            <div class="card-header bg-primary text-white">
                <h4 class="mb-0">
                    <i class="bi bi-file-text"></i> –ó–∞—è–≤–∫–∞ #{{ request.id }}
                </h4>
            </div>
            <div class="card-body">
                <!-- –°—Ç–∞—Ç—É—Å -->
                <div class="alert {% if request.current_state.state_type == 'pending' %}alert-warning{% elif request.current_state.state_type == 'approved' %}alert-success{% else %}alert-danger{% endif %}">
                    <h5>
                        {% if request.current_state.state_type == 'pending' %}
                            ‚è≥ –û—á—ñ–∫—É—î —Ä–æ–∑–≥–ª—è–¥—É
                        {% elif request.current_state.state_type == 'approved' %}
                            ‚úÖ –°—Ö–≤–∞–ª–µ–Ω–æ
                        {% elif request.current_state.state_type == 'rejected' %}
                            ‚ùå –í—ñ–¥—Ö–∏–ª–µ–Ω–æ
                        {% endif %}
                    </h5>
                </div>

                <!-- –Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ –∑–∞—è–≤–∫—É -->
                <div class="row">
                    <div class="col-md-6">
                        <h6>–¢–∏–ø –∑–∞—è–≤–∫–∏:</h6>
                        <p>
                            {% if request.request_type == 'vacation' %}
                                üèñÔ∏è –í—ñ–¥–ø—É—Å—Ç–∫–∞
                            {% elif request.request_type == 'sick' %}
                                üè• –õ—ñ–∫–∞—Ä–Ω—è–Ω–∏–π
                            {% elif request.request_type == 'remote' %}
                                üíª –í—ñ–¥–¥–∞–ª–µ–Ω–∞ —Ä–æ–±–æ—Ç–∞
                            {% else %}
                                üìã –Ü–Ω—à–µ
                            {% endif %}
                        </p>
                    </div>
                    <div class="col-md-6">
                        <h6>–î–∞—Ç–∞ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è:</h6>
                        <p>{{ request.created_date|date:"d.m.Y H:i" }}</p>
                    </div>
                </div>

                {% if request.start_date and request.end_date %}
                <div class="row mt-3">
                    <div class="col-md-6">
                        <h6>–î–∞—Ç–∞ –ø–æ—á–∞—Ç–∫—É:</h6>
                        <p>{{ request.start_date|date:"d.m.Y" }}</p>
                    </div>
                    <div class="col-md-6">
                        <h6>–î–∞—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è:</h6>
                        <p>{{ request.end_date|date:"d.m.Y" }}</p>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-12">
                        <h6>–ö—ñ–ª—å–∫—ñ—Å—Ç—å –¥–Ω—ñ–≤:</h6>
                        <p><strong>{{ request.days_count }} –¥–Ω—ñ–≤</strong></p>
                    </div>
                </div>
                {% endif %}

                {% if request.reason %}
                <div class="row mt-3">
                    <div class="col-md-12">
                        <h6>–ü—Ä–∏—á–∏–Ω–∞/–û–ø–∏—Å:</h6>
                        <p>{{ request.reason }}</p>
                    </div>
                </div>
                {% endif %}

                {% if request.hr_comment %}
                <div class="row mt-3">
                    <div class="col-md-12">
                        <div class="alert alert-info">
                            <h6><i class="bi bi-chat-left-text"></i> –ö–æ–º–µ–Ω—Ç–∞—Ä HR:</h6>
                            <p class="mb-0">{{ request.hr_comment }}</p>
                        </div>
                    </div>
                </div>
                {% endif %}

                <hr>

                <a href="{% url 'my_requests' %}" class="btn btn-secondary">
                    <i class="bi bi-arrow-left"></i> –ù–∞–∑–∞–¥ –¥–æ —Å–ø–∏—Å–∫—É
                </a>
            </div>
        </div>
    </div>
</div>
{% endblock %}